# BMAD for SurfAI (Using BMAD-METHOD)

This document follows the BMAD structure (Background, Motivation, Assumptions, Design) and aligns with your local BMAD-METHOD artifacts: `core-architecture.md` and `user-guide.md`. It is intended to guide planning and execution with agentic workflows (Analyst/PM/Architect → SM/Dev/QA) as described in the BMAD-METHOD.


## 1) Background

- Problem Context
  - Modern AI-assisted development often fails due to planning inconsistency and context loss between planning and implementation phases.
  - Teams need a reusable, agentic framework to ideate, plan, architect, and execute with predictable quality across software and non-software domains.

- Project Vision (SurfAI)
  - Establish SurfAI as a local implementation of BMAD-METHOD to create repeatable agentic workflows for planning and development.
  - Enable both Web UI–based planning (bundled agents) and IDE-based execution (lean context agents) to deliver high-quality outputs rapidly.

- Users and Stakeholders
  - Primary Users: Product owners, architects, developers, QA engineers working with AI agents.
  - Secondary Users: Non-technical creators leveraging expansion packs (creative writing, business strategy, wellness, education).
  - Stakeholders: Project maintainers, contributors, and broader community using SurfAI’s BMAD setup.

- Scope
  - In-scope: Installing and configuring BMAD-METHOD for this repository; producing PRD/Architecture via planning agents; sharding docs; enabling SM/Dev/QA cycle; basic expansion‑pack readiness.
  - Out-of-scope (initially): Custom expansion packs; heavy CI/CD integration; production telemetry.


## 2) Motivation

- Goals
  - Adopt BMAD-METHOD to remove planning inconsistency and context loss through two key innovations:
    1. Agentic Planning: Analyst/PM/Architect produce detailed PRD and Architecture.
    2. Context‑Engineered Development: SM creates hyper-detailed stories for Dev and optional QA.
  - Establish a clear greenfield workflow with optional brownfield support.

- Value Proposition
  - Faster planning with better alignment and completeness.
  - Predictable, story-driven implementation with explicit acceptance criteria and quality gates.
  - Reusability across domains via templates, tasks, checklists, and data.

- Success Metrics (examples)
  - Planning throughput: PRD + Architecture generated in ≤ 1–2 sessions with ≤ 2 revisions to alignment gate.
  - Story cycle time: Median time from SM draft → Dev done ≤ 1 day per story (scope dependent).
  - Quality: ≥ 90% of stories pass QA review on first submission; P0 test gaps = 0 for approved stories.
  - Adoption: Team can operate independently using `user-guide.md` within two sprints.


## 3) Assumptions

- Technical
  - Node.js v20+ available for installer and tooling.
  - IDE supports agentic interactions or web bundles can be uploaded to LLM platforms (Gemini, ChatGPT, etc.).
  - Repo will store planning artifacts at conventional paths or provide mappings in `.bmad-core/core-config.yaml`.

- Process
  - Planning done via web bundle or powerful IDE agent → PRD/Architecture aligned before development.
  - PO shards PRD and Architecture into epics/stories and arch shards for consumption by SM/Dev/QA.
  - QA acts as Test Architect with advisory gates; waivers are explicit where applicable.

- Constraints
  - Early docs (`Readme.md`, `Blueprint.md`, `Milestone.md`) may start empty and be generated by BMAD templates and tasks.
  - Team capacity and LLM context limits require lean artifacts and strict sharding.

- Risks and Mitigations
  - Risk: Overly broad initial scope → Mitigation: Strict MVP epics and story scoping.
  - Risk: Context overflow in web/IDE → Mitigation: Use sharding + `devLoadAlwaysFiles` to keep context lean.
  - Risk: Quality drift → Mitigation: Enforce QA gates and NFR checks; capture preferences in `technical-preferences.md`.
  - Risk: Tooling instability (e.g., v6‑alpha changes) → Mitigation: Pin to v4 stable unless testing v6‑alpha deliberately; keep backups via installer’s .bak behavior.


## 4) Design

- Solution Overview
  - Adopt BMAD core structure and workflows to produce planning artifacts and drive development in cycles.
  - Use `core-architecture.md` and `user-guide.md` as the local canonical references for architecture and workflow.

- High-Level Architecture (from `core-architecture.md`)
  - Core: `bmad-core/` containing agents, agent-teams, workflows, templates, tasks, checklists, and data (KB, technical preferences).
  - Tooling: `tools/builders/web-builder.js` bundles selected agents/teams to `dist/` for Web UI usage.
  - Target Environments: IDE (direct agent markdown usage) and Web UI (upload team bundle).

- Key Components
  - Agents: `bmad-core/agents/*.md` define persona, capabilities, dependencies, and startup instructions.
  - Workflows: `bmad-core/workflows/*.yaml` define planning/execution sequences (greenfield and brownfield).
  - Templates/Tasks/Checklists/Data: Reusable resources powering document creation, QA gates, and knowledge.
  - Technical Preferences: `.bmad-core/data/technical-preferences.md` to bias recommendations and standards.

- Planning Workflow (Summary)
  1. Optional Analyst phase produces Project Brief.
  2. PM generates PRD from Brief (FRs, NFRs, Epics, Stories).
  3. Architect creates Architecture from PRD (+ optional UX spec).
  4. PO runs alignment checklists; finalize to “Planning Complete”.
  5. Switch to IDE; shard PRD/Architecture; prepare for SM/Dev cycle.

- Core Development Cycle (Summary)
  1. SM drafts next story from sharded epic + architecture.
  2. Optional QA early risk/design on draft for high‑risk stories.
  3. User approves story → Dev implements sequential tasks + tests.
  4. Dev marks ready for review; User may request QA review.
  5. QA reviews, issues gate decision; iterate if needed → Done.

- Delivery Plan and Milestones (initial proposal)
  - Milestone 1: Install BMAD to repo; generate PRD/Architecture using templates; commit docs.
    - Output: `docs/prd.md`, `docs/architecture.md`, optional `docs/ux/*.md`.
  - Milestone 2: PO sharding; create `docs/epics/*`, `docs/stories/*`; configure `.bmad-core/core-config.yaml` `devLoadAlwaysFiles`.
  - Milestone 3: Start SM/Dev cycle; complete 3–5 foundational stories; integrate QA `*risk`, `*design`, `*review` flows.
  - Milestone 4: Stabilize preferences; create/update `technical-preferences.md`; reduce coding standards to essentials.
  - Milestone 5: Optional expansion-pack pilot (select one domain) and simple CI checks.

- Operational Details
  - Installation/Update:
    - `npx bmad-method install` (preferred) or `git pull && npm run install:bmad`.
    - Creates backups (`.bak`) for modified files and preserves project config.
  - Web Bundles:
    - Build or retrieve `dist/teams/team-fullstack.txt` and upload to LLM platforms; prompt with `/help`.
  - IDE Usage:
    - Use agents via `@pm`, `@architect`, `@dev`, `@qa` (or IDE-equivalent commands) and follow `user-guide.md` best practices.

- Governance and Quality
  - QA as Test Architect (Quinn) owns advisory gates in `docs/qa/gates/` with deterministic pass/concerning/fail rules.
  - Risk‑based testing and NFR checks embedded in story flow.
  - Documentation remains lean via sharding; preferences guide consistent decisions.


## 5) Next Actions (Executable Checklist)

- [ ] Run BMAD installer: `npx bmad-method install` (Node.js v20+).
- [ ] Generate PRD using PM agent/template → save to `docs/prd.md`.
- [ ] Generate Architecture using Architect agent/template → save to `docs/architecture.md`.
- [ ] PO: Shard PRD and Architecture → `docs/epics/*`, `docs/stories/*`, `docs/architecture/*.md`.
- [ ] Configure `.bmad-core/core-config.yaml` `devLoadAlwaysFiles` with coded standards, tech stack, project structure.
- [ ] Begin SM/Dev cycle with first story; request QA `*risk` and `*design` for high‑risk stories.
- [ ] Adopt QA `*review` and `*gate` for completed stories; store outputs per `user-guide.md` paths.
- [ ] Add/update `.bmad-core/data/technical-preferences.md` to capture your stack and standards.


## 6) References

- Local
  - `core-architecture.md` — System architecture, components, workflows
  - `user-guide.md` — Planning, development cycle, QA/Test Architect, preferences, IDE guidance
- Upstream (BMAD-METHOD)
  - Repo: https://github.com/bmad-code-org/BMAD-METHOD
  - Current Stable: v4.x; Next Major: v6‑alpha (experimental)

---

Notes: Replace placeholder success metrics and milestone counts with project‑specific targets once PRD and Architecture are drafted. If you plan to pilot v6‑alpha, create a small, isolated branch and track breaking changes explicitly.
